name: Transfer All Files

on:
  workflow_dispatch:
  
jobs:
  transfer-all-files:
    runs-on: [self-hosted, fts3-client-production ]
    environment: APPROVAL_REQUIRED
    
    strategy:
      matrix:
        FILENAME:
          - databases/blast.json
          - databases/gtdb-tk.json
          - databases/card.json
          - databases/checkm.json
          - databases/plsdb.json


          # Add more files as needed

    steps:
      - name: Dispatch Transfer file workflow for each file
        uses: ./.github/workflows/transfer_file.yml
        with:
          FILENAME: ${{ matrix.FILENAME }}
        secrets: inherit
